(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4645:function(e,t,n){Promise.resolve().then(n.bind(n,9572))},9572:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(7437),r=n(2265),l=n(1235),i=n(6548),o=n(2126),s=n(511),c=n(7338),d=n(3283),h=n(8038),x=n(6564),u=n(1699),m=n.n(u);function g(e){let{images:t,addFlashcards:n,makeFlashcards:r,setImages:o}=e;return(0,a.jsx)(m(),{multiple:!0,value:t,onChange:(e,t)=>{o(e)},maxNumber:69,dataURLKey:"data_url",children:e=>{let{imageList:r,onImageUpload:o,onImageRemoveAll:s,onImageUpdate:c,onImageRemove:d,isDragging:h,dragProps:x}=e;return(0,a.jsxs)(l.Z,{alignItems:"center",children:[(0,a.jsx)(l.Z,{overflow:"scroll",children:r.map((e,t)=>(0,a.jsxs)(l.Z,{className:"image-item",padding:2,sx:{border:1,borderColor:"gray"},children:[(0,a.jsx)("img",{src:e.data_url,alt:"",width:"300"}),(0,a.jsx)(l.Z,{className:"image-item__btn-wrapper",alignItems:"center",children:(0,a.jsxs)(l.Z,{flexDirection:"row",gap:1,marginTop:1,children:[(0,a.jsx)(i.Z,{variant:"outlined",onClick:()=>c(t),children:"Update"}),(0,a.jsx)(i.Z,{variant:"outlined",onClick:()=>d(t),children:"Remove"})]})})]},t))}),(0,a.jsxs)(l.Z,{flexDirection:"row",marginTop:2,children:[0==t.length&&(0,a.jsx)(i.Z,{variant:"contained",style:h?{color:"red"}:void 0,onClick:o,...x,children:"Add Image"}),"\xa0",(0,a.jsx)(l.Z,{flexDirection:"row",gap:.5,children:(0,a.jsx)(i.Z,{variant:"contained",onClick:n,children:"Add Flashcards"})})]})]})}})}function j(){let[e,t]=r.useState([]),[n,u]=r.useState(void 0),[m,j]=r.useState(void 0),[p,f]=r.useState("mochi");console.log(p);let v=(0,r.useRef)([]),Z=()=>{if("mochi"===p)o.Z.post("https://app.mochi.cards/api/cards/?deck-id=".concat("[[rYkfrjIi]]","&content=card"),{content:"front/back test.","deck-id":"nXXd2JvP",fields:{name:{id:"name",value:n},V72yjxYh:{id:"V72yjxYh",value:m}}},{headers:{Authorization:"Basic NzI3MTQ3NGRkYzFkMDYxNzQwZTlhMGU2Og=="}});else{let n=v.current.map(e=>e.join("	")),a=n.join("\n"),r="data:text/tab-separated-values;charset=utf-8,"+a;console.log("tabJoined",n),console.log("newlineJoined",a),console.log("tsvContent",r);var e=encodeURI(r),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","my_data.tsv"),document.body.appendChild(t),t.click()}};(0,r.useEffect)(()=>{if(e.length>0){var t=new FormData;t.append("file",e[0].file),o.Z.post("https://james-image-translation-d10e77b3ae74.herokuapp.com/uploadfile/",t,{}).then(e=>{console.log(Object.keys(e.data)),u(e.data.text),j(e.data.translatedText)})}},[e]);let k=e=>{f(e.target.value)};return(0,a.jsxs)(l.Z,{gap:15,justifyContent:"center",alignItems:"center",marginTop:10,flexDirection:"row",children:[(0,a.jsx)(g,{images:e,setImages:t,makeFlashcards:Z,addFlashcards:()=>{let e=[m.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'"),n.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'")];v.current=[...v.current,e]}}),(0,a.jsxs)(l.Z,{children:[!!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h5",children:"Original Text"}),(0,a.jsx)(l.Z,{padding:2,width:400,height:200,marginBottom:3,sx:{border:1,borderColor:"gray"},overflow:"scroll",children:n})]}),!!m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{variant:"h5",children:"Translated Text"}),(0,a.jsx)(l.Z,{padding:2,width:400,height:200,marginBottom:3,sx:{border:1,borderColor:"gray"},overflow:"scroll",children:m})]}),(0,a.jsxs)(l.Z,{flexDirection:"row",gap:1,children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(h.Z,{value:"mochi",onChange:k,checked:"mochi"===p,control:(0,a.jsx)(c.Z,{}),label:"Mochi"}),(0,a.jsx)(h.Z,{value:"csv",onChange:k,checked:"csv"===p,control:(0,a.jsx)(c.Z,{}),label:"CSV File"})]})}),(0,a.jsx)(l.Z,{justifyContent:"center",sx:{minHeight:"100%"},children:(0,a.jsx)(i.Z,{sx:{height:50},variant:"contained",onClick:Z,children:"Make Flashcards"})})]})]})]})}}},function(e){e.O(0,[637,971,23,744],function(){return e(e.s=4645)}),_N_E=e.O()}]);